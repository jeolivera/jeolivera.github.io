(function(){function r(b,a){return-1<b.indexOf(a)?b:-1<b.indexOf("?")?b+"\x26"+a:b+"?"+a}function N(b){for(var a=0;b&&b.getAttribute("class")!==y;)b=b.parentNode,a++,4<a&&(b=null);(a=b&&b.parentNode)&&a.getAttribute("class")===v&&(b.removeAttribute("style"),b.removeAttribute("class"),a.removeAttribute("style"))}function ba(b){b.removeAttribute("data-iframely-url");b.removeAttribute("data-iframely-loading")}function ca(b,a){if(da){var c=b;for(var k=!1;!k&&c.parentNode;)c=c.parentNode,k=c.className&&
0<=c.className.split(" ").indexOf(da);if(c=k&&c){(b=c.parentNode)&&b.removeChild(c);return}}c=a&&a.originalElement;if(!c&&b&&"A"===b.nodeName&&(b.textContent||b.innerText))ba(b),N(b);else{if(a&&a.iframeContainer)a=a.iframeContainer;else if(a=b,k=C(b))a=k.maxWidthWrapper;k=a.parentNode;c&&"A"===c.nodeName&&(c.textContent||c.innerText)&&(ba(b),k.insertBefore(c,a));k.removeChild(a)}}function O(b){b=b.getBoundingClientRect();var a=window.innerHeight||document.documentElement.clientHeight,c=window.innerWidth||
document.documentElement.clientWidth,k=2*a,d=2*c;if(0<=b.bottom&&0<=b.right&&b.top<=a&&b.left<=c)return ra;if(b.bottom>=0-k&&b.right>=0-d&&b.top<=a+k&&b.left<=c+d)return ea}function H(b){for(var a=0,c=0;c<b.childNodes.length;c++){var d=b.childNodes[c];d.nodeType===Node.TEXT_NODE?(d=d.textContent||d.innerText,(d=d.replace(/\s|\n/g,""))&&a++):d.nodeType===Node.ELEMENT_NODE&&a++}return a}function C(b,a){b=b.parentNode;if(!(!b||"DIV"!==b.nodeName||2<H(b)||a&&b.getAttribute("class")!==y||!a&&"relative"!==
b.style.position&&b.getAttribute("class")!==y)){var c=b.parentNode;if(!(!c||"DIV"!==c.nodeName||1<H(c)||a&&c.getAttribute("class")!==v))return{aspectWrapper:b,maxWidthWrapper:c}}}function sa(b){var a=P(b);b=a.url;var c=a.api_key;a=a.key;var d=[];b&&d.push("url\x3d"+encodeURIComponent(b));c&&d.push("api_key\x3d"+encodeURIComponent(c));a&&d.push("key\x3d"+encodeURIComponent(a));return"/api/thumbnail?"+d.join("\x26")}function fa(b,a){if(b=C(b)){if(a.match(/\/api\/iframe\?.+/))var c=a.replace(/\/api\/iframe\?.+/,
sa(a));else if(a.match(/^(?:https?:)?\/\/[^\/]+\/[a-zA-Z0-9]+(?:\?.*)?$/))c=a.replace(/^((?:https?:)?\/\/[^\/]+\/[a-zA-Z0-9]+)((?:\?.*)?)$/,"$1/thumbnail");else return;a=document.createElement("div");a.style.position="absolute";a.style.top="0";a.style.width="100%";a.style.height="100%";a.style.backgroundImage="url('"+c+"')";a.style.backgroundSize="cover";a.style.backgroundPosition="center";c=document.createElement("div");c.setAttribute("class",ta);a.appendChild(c);c=b.aspectWrapper.style["padding-top"];
var d=b.aspectWrapper.style["padding-bottom"];!d&&-1<b.aspectWrapper.className.indexOf(y)&&(d="56.25%");if(c&&d&&c.match(/^\d+px$/)){var e=document.createElement("div");e.style.left=0;e.style.top="-"+c;e.style.width="100%";e.style.height=0;e.style.position="relative";e.style["padding-bottom"]=d;e.appendChild(a);b.aspectWrapper.appendChild(e)}else b.aspectWrapper.appendChild(a)}}function ha(b){b=C(b);var a;if(a=b&&b.aspectWrapper&&1<H(b.aspectWrapper))a:{a=b.aspectWrapper;for(var c=0,d=0;d<a.childNodes.length;d++){var e=
a.childNodes[d];if(e.nodeType!==Node.TEXT_NODE&&e.nodeType===Node.ELEMENT_NODE){if(1===c){a=e;break a}c++}}a=void 0}a&&"DIV"===a.nodeName&&b.aspectWrapper.removeChild(a)}function ua(b,a){setTimeout(function(){va(b)},a==ea?200:0)}function va(b){function a(){d++;d===c&&(clearTimeout(e),setTimeout(function(){ha(b)},200))}var c=b.hasAttribute("data-direct")?1:2,d=0;b.addEventListener?b.addEventListener("load",a):b.attachEvent("onload",a);var e=setTimeout(function(){a()},1E4);var f=b.getAttribute("data-iframely-url");
f&&(b.removeAttribute("data-iframely-url"),b.removeAttribute("data-iframely-loading"),b.setAttribute("src",f))}function ia(){if(!document.getElementById(ja)){var b=ja,a=wa,c=document.createElement("style");c.id=b;c.type="text/css";c.styleSheet?c.styleSheet.cssText=a:c.innerHTML=a;document.getElementsByTagName("head")[0].appendChild(c)}}function E(b,a){ia();a||(a=C(b));a&&(b.style.top="",b.style.left="",b.style.width="",b.style.height="",b.style.position="",b.style.border="",b.style.boxSizing="",a.aspectWrapper.style.top=
"",a.aspectWrapper.style.left="",a.aspectWrapper.style.width="",a.aspectWrapper.style.position="",a.aspectWrapper.className=y,a.maxWidthWrapper.className=v)}function Q(b,a){var c=C(b);E(b,c);var k=b.getAttribute("data-max-width");k&&(a["max-width"]=k);if(a){k=function(){var a=w.clientHeight;g!=a&&z.trigger("heightChanged",b,g,a)};a.frame_style&&b.setAttribute("data-frame-style",a.frame_style);a.scrolling&&b.setAttribute("scrolling",a.scrolling);var e=b.getAttribute("data-frame-style"),f=e&&e.match(/border:[^;]*(\d+)px/)||
0;f&&(f=parseInt(f[1]),f*=2);if(c){var w=c.aspectWrapper,p=c.maxWidthWrapper,g=w.clientHeight;b.removeAttribute("style");e&&b.setAttribute("style",e);w.removeAttribute("style");p.removeAttribute("style");a&&a.height&&a.width&&!a["aspect-ratio"]?(p.style.width=a.width+f+"px",w.style.height=a.height+f+"px",w.style.paddingBottom=0):(a["aspect-ratio"]?(w.style["padding-bottom"]=Math.round(1E5/a["aspect-ratio"])/1E3+"%",a["padding-bottom"]&&(w.style.paddingTop=a["padding-bottom"]+"px")):(a.height&&(w.style.height=
a.height+f+"px",w.style.paddingBottom=0),a.width&&(w.style.width=a.width+f+"px")),(a["max-width"]||a["min-width"])&&["max-width","min-width"].forEach(function(b){var c=a[b];if(c){if("number"===typeof c||"string"===typeof c&&c.match(/^(\d+)?\.?(\d+)?$/))c=c+f+"px";p.style[b]=c}}),d.checkLazyLoad());k()}}}function P(b){if(b=b.match(/\?(.+)/i)){b=b[1];b=b.split("\x26");for(var a={},c=0;c<b.length;c++){var d=b[c].split("\x3d");a[d[0]]=decodeURIComponent(d[1])}return a}return{}}function xa(){var b=!1;
try{b=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0)}catch(a){b=navigator.mimeTypes&&void 0!=navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin?!0:!1}return b}var l=window.iframely=window.iframely||{},d=l.widgets=l.widgets||{},z=l.events=l.events||{},A=d._iframes=d._iframes||[],R=d._global_iframes=d._global_iframes||[],t=d._lazy_iframes=d._lazy_iframes||[],J=d._lazy_widgets=d._lazy_widgets||[],S=d._import_links=d._import_links||
{},T=/^(?:https?:)?\/\/[^\/]+/,ya=/^(?:https?:)?\/\/[^\/]+\/(\w+)(?:\?.*)?$/;"function"!==typeof Array.prototype.forEach&&(Array.prototype.forEach=function(b){for(var a=0;a<this.length;a++)b.apply(this,[this[a],a,this])});d.load||(l.load=d.load=function(){if(0===arguments.length){var b=document.querySelectorAll("[data-iframely-url]"),a;if(!(-1<navigator.userAgent.toLowerCase().indexOf("firefox")||za||ka)&&1<b.length&&"file:"!==document.location.protocol&&"import"in(a=document.createElement("link"))){for(var c=
function(){for(var a in p)for(var b=p[a],c=0;c<b.length;c++){var e=b[c];"import"===e.getAttribute("data-iframely-loading")&&(e.removeAttribute("data-iframely-loading"),d.createWidget(e))}},k=function(a,b){p[a]||(p[a]=[]);p[a].push(b);w++},e=[],f=[],w=0,p={},g,B,h,t,n,y,r,v,F,z,D=0;D<b.length;D++){var q=b[D];if(!q.getAttribute("data-iframely-loading")){var A=function(){t=t||m.match(/align=left/);F=F||K;n=n||(G=m.match(/iframe=([\w-]+)/))&&G[1];y=y||m.match(/autoplay=(true|1)/);v=v||m.match(/playerjs=(true|1)/);
z=z||(G=m.match(/language=([\w_-]+)/))&&G[1];var a=m.match(/maxwidth=(\d+)/);a&&(r=r||a[1])},m=q.getAttribute("data-iframely-url");g=(g=m.match(T))&&g[0]||L;var u=m.match(ya);u=u&&u[1];var G,M=m.match(/import=(false|0)/),H=m.match(/app=(true|1)/),K=(G=m.match(/media=([\w-]+)/))&&G[1];!I&&F&&K!==F&&(M=!0);I&&K&&I!==K&&(M=!0);"IFRAME"===q.nodeName&&H&&(M=!0);M?d.createWidget(q):u?(q.setAttribute("data-iframely-loading","import"),-1===f.indexOf(u)&&f.push(u),k(u,q),A()):(h=P(m),(u=h.url)||(u=q.getAttribute("href")),
B=h.api_key||U,h=h.key||V,(B||h)&&u?(q.setAttribute("data-iframely-loading","import"),-1===e.indexOf(u)&&e.push(u),k(u,q),A()):d.createWidget(q))}}if(1<w&&(0<e.length||0<f.length)&&g){var E=function(a){var b=(a=a["import"])?a.querySelectorAll("template[data-uri]"):[];d.applyIframelyImportCommonStyles&&d.applyIframelyImportCommonStyles(a);for(var e=0;e<b.length;e++){var f=b[e],k=f.getAttribute("data-iframe-src"),h=f.getAttribute("data-media"),g=f.hasAttribute("data-cancel"),w=f.hasAttribute("data-shadow"),
u=f.getAttribute("data-uri"),n=f.hasAttribute("data-render-event"),B=p[u];if(B){for(var t=0;t<B.length;t++){var x=B[t];if(g)ca(x);else if(k){if(h)try{h=JSON.parse(h)}catch(Aa){h=null}x.removeAttribute("data-iframely-loading");d.createWidget(x,{directIframeSrc:k,media:h})}else{var q=document.importNode(f.content,!0),m=!n&&C(x,!0);if(m){var l=m.aspectWrapper.parentNode;var r=m.aspectWrapper;m.maxWidthWrapper.removeAttribute("style")}else l=x.parentNode,r=x;var y=la||x.hasAttribute("data-lazy");if("IFRAME"===
x.nodeName)x.removeAttribute("data-iframely-loading"),d.createWidget(x);else{var z=null;if(w){var v=document.createElement("div"),A=v.createShadowRoot();A.appendChild(q);q={shadowRoot:A,shadowContainer:v,container:l,sourceTemplate:f,importDoc:a};d.applyCardStyles&&d.applyCardStyles(q);z=d.getWidgetAfterRenderCb&&d.getWidgetAfterRenderCb(q);q=v}v=function(){var a=l,b=z;return function(){b&&b();n&&setTimeout(function(){N(a)},5E3)}}();!y||O(x)?(l.insertBefore(q,r),l.removeChild(r),v()):(m?(m=r,x.parentNode.removeChild(x)):
(m=document.createElement("div"),l.insertBefore(m,r),l.removeChild(r),m.style.width="100%",m.style.height="400px"),J.push({container:m,widget:q,widgetAfterRenderCb:v}))}}}delete p[u]}}c()};a.rel="import";a.href=g+"/api/import?app\x3d1";xa()&&(a.href+="\x26flash\x3d1");l.isTouch()&&(a.href+="\x26touch\x3d1");0<e.length&&(e=e.map(function(a){return"uri\x3d"+encodeURIComponent(a)}),a.href+="\x26"+e.join("\x26"));0<f.length&&(a.href+="\x26ids\x3d"+encodeURIComponent(f.join("\x26")));B?a.href+="\x26api_key\x3d"+
B:h&&(a.href+="\x26key\x3d"+h);if(t||"left"===W)a.href+="\x26align\x3dleft";if(n||ma)a.href+="\x26iframe\x3d"+(n||ma);y&&(a.href+="\x26autoplay\x3d1");if(r||X)a.href+="\x26maxwidth\x3d"+(r||X);if(v||ka)a.href+="\x26playerjs\x3d1";if(F||I)a.href+="\x26media\x3d"+(F||I);if(z||na)a.href+="\x26language\x3d"+(z||na);a.onload=function(){E(a)};a.onerror=function(){c()};a.href in S?E(S[a.href]):(S[a.href]=a,document.head.appendChild(a))}else c()}else for(D=0;D<b.length;D++)q=b[D],d.createWidget(q)}else 1===
arguments.length?d.createWidget(arguments[0]):2===arguments.length&&d.createWidgetInContainer(arguments[0],arguments[1])});d.createWidgetInContainer||(d.createWidgetInContainer=function(b,a){var c=document.createElement("a");c.setAttribute("href",a);c.textContent=a;b.appendChild(c);d.createWidget(c)});d.createWidget||(d.createWidget=function(b,a){if(!b.getAttribute("data-iframely-loading")){b.setAttribute("data-iframely-loading",!0);var c=b.getAttribute("data-iframely-url"),k=b.hasAttribute("data-img"),
e=c&&c.match(/^((?:https?:)?\/\/[^\/]+)\/\w+/i),f=e&&e[1];e=la||b.hasAttribute("data-lazy")||"IFRAME"===b.nodeName;if("IFRAME"===b.nodeName)a&&a.media?Q(b,a.media):E(b),a&&a.directIframeSrc&&b.setAttribute("data-direct",""),e?(k&&(fa(b,c),c=r(c,"img\x3d1")),b.setAttribute("data-iframely-url",a&&a.directIframeSrc||c),t.push({iframe:b})):(b.setAttribute("src",a&&a.directIframeSrc||c),b.removeAttribute("data-iframely-url"),b.removeAttribute("data-iframely-loading")),A.push({iframe:b});else{var g=b.getAttribute("href"),
p=C(b,!0);if(p){var l=p.maxWidthWrapper.parentNode;E(b,p)}else l=b.parentNode,ia();var n=b.getAttribute("data-max-width");if(a&&a.directIframeSrc)var h=a.directIframeSrc;else!g||c&&f?c&&(h=r(c,"app\x3d1"),"auto"===n&&(c=l.clientWidth)&&(h=r(h,"maxwidth\x3d"+c)),W&&(h=r(h,"align\x3d"+W))):(n=n||X,h="/api/iframe?app\x3d1\x26url\x3d"+encodeURIComponent(g),h=V?L+h+"\x26key\x3d"+V:U?L+h+"\x26api_key\x3d"+U:"http://open.iframe.ly"+h,oa&&(h+="\x26"+oa));if(c=h&&h.match(/^(https?:)?\/\//i)){c[1]||"file:"!==
document.location.protocol||(h="http:"+h);f=document.createElement("iframe");f.setAttribute("allowfullscreen","");f.setAttribute("allow","autoplay; encrypted-media");if(p){for(c=p.maxWidthWrapper;p.aspectWrapper.lastChild;)p.aspectWrapper.removeChild(p.aspectWrapper.lastChild);p.aspectWrapper.appendChild(f)}else c=document.createElement("div"),c.className=v,g=document.createElement("div"),g.className=y,c.appendChild(g),g.appendChild(f);n&&parseInt(n)&&(c.setAttribute("style","max-width: "+n+"px;"),
f.setAttribute("data-max-width",n));A.push({iframe:f,iframeContainer:c,originalElement:b});p||(l.insertBefore(c,b),l.removeChild(b));a&&a.media&&Q(f,a.media);e?(k&&(fa(f,h),h=r(h,"img\x3d1")),f.setAttribute("data-iframely-url",h),f.setAttribute("data-iframely-loading",!0),t.push({iframe:f})):f.setAttribute("src",h)}}d.checkLazyLoad()}});var y="iframely-responsive",v="iframely-embed",ta="iframely-loader";d.importedWidgetRendered||(d.importedWidgetRendered=N);if(!z.on){var Y={};z.on=function(b,a){(Y[b]=
Y[b]||[]).push(a)};z.trigger=function(b){var a=Array.prototype.slice.call(arguments,1),c=Y[b]||[];c.forEach(function(b){b.apply(c,a)})}}l.addEventListener||(l.addEventListener=function(b,a,c){b&&(b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent?b.attachEvent("on"+a,c):b["on"+a]=c)});d.ready||(d.ready=function(b){"function"===typeof b&&b()});l.windowMessaging=function(){return{postMessage:function(b,a,c){b=JSON.stringify(b);c=c||window.parent;window.postMessage&&c.postMessage(b,(a||"*").replace(/([^:]+:\/\/[^\/]+).*/,
"$1"))},receiveMessage:function(b){function a(a){try{var c=JSON.parse(a.data)}catch(e){}b(a,c)}if(window.postMessage)if(window.addEventListener)window[b?"addEventListener":"removeEventListener"]("message",a,!1);else window[b?"attachEvent":"detachEvent"]("onmessage",a)}}}();for(var pa=document.querySelectorAll("script"),Z=0;Z<pa.length&&!L;Z++){var n=pa[Z].getAttribute("src");if(n&&n.match(/\/embed\.js/)){n=n.replace(/&amp;/gi,"\x26");var g=P(n);var U=g.api_key;var V=g.key;var X=g.maxwidth;var da=
g.parent;var la=g.lazy;var ka="1"===g.playerjs||"true"===g.playerjs;var W=g.align;var ma=g.iframe;var za="0"===g["import"]||"false"===g["import"];var I=g.media;var na=g.language;delete g.api_key;delete g.key;var qa=[],aa;for(aa in g)qa.push(aa+"\x3d"+encodeURIComponent(g[aa]));var oa=qa.join("\x26");var L=(n=n.match(T)||document.location.href.match(T))&&n[0]||"https://iframe.ly"}}d.checkLazyLoad||(d._checkLazyLoad=function(){d.checkLazyLoadTimeout&&clearTimeout(d.checkLazyLoadTimeout);d.checkLazyLoadTimeout=
null;for(var b=0;b<t.length;){var a=t[b].iframe,c=O(a);c?(t.splice(b,1),ua(a,c)):b++}for(b=0;b<J.length;)a=J[b],(c=O(a.container))?(J.splice(b,1),c=a,a=c.container.parentNode,a.insertBefore(c.widget,c.container),a.removeChild(c.container),c.widgetAfterRenderCb&&c.widgetAfterRenderCb()):b++},d.checkLazyLoad=function(){d.checkLazyLoadTimeout||(d.checkLazyLoadTimeout=setTimeout(d._checkLazyLoad,300))},window.addEventListener?(addEventListener("scroll",d.checkLazyLoad,!0),addEventListener("resize",d.checkLazyLoad,
!0)):window.attachEvent&&(attachEvent("onscroll",d.checkLazyLoad),attachEvent("onresize",d.checkLazyLoad)));d.receiveMessageRegistered||(d.receiveMessageRegistered=!0,l.windowMessaging.receiveMessage(function(b,a){if(a&&a.method){for(var c=null,d=null,e=0;e<A.length&&!c;e++){var f=A[e];f.iframe.contentWindow===b.source&&(c=f.iframe,d=f)}if(!c)for(e=0;e<R.length&&!c;e++)f=R[e],f.contentWindow===b.source&&(c=f);if(!c){var g=document.querySelectorAll("iframe");for(e=0;e<g.length&&!c;e++)f=g[e],f.contentWindow===
b.source&&(R.push(f),c=f)}if(c&&"widgetRendered"===a.method){for(e=0;e<t.length;)f=t[e].iframe,c===f?t.splice(e,1):e++;ha(c)}!c||"setIframelyWidgetSize"!==a.method&&"resize"!==a.method&&"setIframelyEmbedData"!==a.method||Q(c,a.data&&a.data.media||{height:a.height});c&&"cancelWidget"===a.method&&ca(c,d)}}));var ra=1,ea=2,ja="iframely-styles",wa=".iframely-responsive{top: 0;left: 0;width: 100%;height: 0;position: relative;padding-bottom: 56.25%;}.iframely-responsive\x3e*{top: 0;left: 0;width: 100%;height: 100%;position: absolute;border: 0;box-sizing: border-box;}";
l.isTouch=function(){return"ontouchstart"in window||navigator.maxTouchPoints};(function(b){"complete"!==document.readyState&&"interactive"!==document.readyState||b();document.addEventListener?document.addEventListener("DOMContentLoaded",b):window.attachEvent("onload",b)})(function(){d.load()});(d._e||[]).forEach(function(b){"function"===typeof b&&b()})})();